\begin{Verbatim}[commandchars=\\\{\},codes={\catcode`\$=3\catcode`\^=7\catcode`\_=8\relax}]
  \PYG{k}{def} \PYG{n+nf}{test\PYGZus{}promotion}\PYG{p}{():}
  \PYG{n}{partie}\PYG{o}{=}\PYG{n}{init\PYGZus{}partie\PYGZus{}test}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}promotion\PYGZdq{}}\PYG{p}{)}
  \PYG{n}{partie}\PYG{o}{.}\PYG{n}{deplacer\PYGZus{}piece}\PYG{p}{((}\PYG{l+m+mi}{7}\PYG{p}{,}\PYG{l+m+mi}{6}\PYG{p}{),(}\PYG{l+m+mi}{7}\PYG{p}{,}\PYG{l+m+mi}{7}\PYG{p}{))}
  \PYG{k}{for} \PYG{n}{piece} \PYG{o+ow}{in} \PYG{n}{partie}\PYG{o}{.}\PYG{n}{pieces}\PYG{p}{[}\PYG{o+ow}{not} \PYG{n}{partie}\PYG{o}{.}\PYG{n}{trait}\PYG{p}{]:}
      \PYG{k}{assert} \PYG{o+ow}{not} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{piece}\PYG{p}{,} \PYG{n}{Pion}\PYG{p}{)}
  \PYG{k}{assert} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{partie}\PYG{o}{.}\PYG{n}{plateau}\PYG{p}{[(}\PYG{l+m+mi}{7}\PYG{p}{,}\PYG{l+m+mi}{7}\PYG{p}{)],} \PYG{n}{Dame}\PYG{p}{)}
\end{Verbatim}
